<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{% block title %}{% endblock %} | Flask Market</title>

    <!-- Bootstrap -->
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!-- Icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body class="modern-body">

<!-- âœ… Modern Navbar -->
<nav class="navbar modern-navbar navbar-expand-lg">

    <a class="navbar-brand modern-logo" href="{{ url_for('home_page') }}">Flask Market</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navMenu">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">

        <!-- Left Links -->
        <ul class="navbar-nav mr-auto">
            <li class="nav-item"><a class="nav-link nav-modern-link" href="{{ url_for('market_page') }}">Market</a></li>

            {% if current_user.is_authenticated and current_user.is_admin %}
            <li class="nav-item">
                <a class="nav-link nav-modern-link text-warning" href="{{ url_for('admin_dashboard') }}">
                    Admin Panel
                </a>
            </li>
            {% endif %}
        </ul>

        <!-- Right Side -->
        {% if current_user.is_authenticated %}
        <span class="nav-user-info text-success mr-3">ğŸ’° {{ current_user.prettier_budget }}</span>
        <span class="nav-user-info text-info mr-3">ğŸ‘¤ {{ current_user.username }}</span>

        <a href="{{ url_for('logout_page') }}" class="btn btn-danger modern-btn">Logout</a>

        {% else %}
        <a href="{{ url_for('login_page') }}" class="btn btn-outline-info modern-btn mr-2">Login</a>
        <a href="{{ url_for('register_page') }}" class="btn btn-info modern-btn">Register</a>
        {% endif %}
    </div>
</nav>

<!-- Flash Messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
    {% for category, msg in messages %}
    <div class="alert alert-{{ category }} text-center modern-alert">{{ msg }}</div>
    {% endfor %}
{% endwith %}

{% block content %}{% endblock %}

<!-- JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
